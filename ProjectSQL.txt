DELIMITER ;


CREATE TABLE `dbProj_USER` (
	`userID` int NOT NULL AUTO_INCREMENT,
	`userName` varchar(30) NOT NULL,
	`password` varchar(30) NOT NULL,
	`firstName` varchar(30) NOT NULL,
	`lastName` varchar(30) NOT NULL,
	`DOB` date NOT NULL,
	`regDate` date NOT NULL,
	`roleID` int(30) NOT NULL,
    PRIMARY KEY (`userID`)
);

CREATE TABLE `dbProj_CATEGORY` (
    `catID` int NOT NULL AUTO_INCREMENT,
    `catName` varchar(60),
    PRIMARY KEY (`catID`)
);

CREATE TABLE `dbProj_ARTICLE` (
    `articleID` int NOT NULL AUTO_INCREMENT,
    `title` varchar(50),
    `content` varchar(500),
    `publishDate` datetime,
    `views` int(11),
    `likes` int(11),
    `dislikes` int(11),
    `rating` float(11),
    `isPublished` boolean DEFAULT FALSE,
    `userID` int(11) NOT NULL,
    `catID` int(11),
    PRIMARY KEY (`articleID`),
    FOREIGN KEY (`userID`) REFERENCES `USER`(`userID`),
    FOREIGN KEY (`catID`) REFERENCES `CATEGORY`(`catID`)
);

CREATE TABLE `dbProj_COMMENT` (
    `commentID` int NOT NULL AUTO_INCREMENT,
    `commentText` varchar(300),
    `creationDate` datetime,
    `userID` int,
    `articleID` int,
    PRIMARY KEY (`commentID`),
    FOREIGN KEY (`userID`) REFERENCES `USER`(`userID`),
    FOREIGN KEY (`articleID`) REFERENCES `ARTICLE`(`articleID`)
);

CREATE TABLE `dbProj_FILES`(
    `fileID` int(11) NOT NULL AUTO_INCREMENT,
    `fileName` int(11) NOT NULL,
    `fileType` varchar(30),
    `filelocation` varchar(30),
    `articleID` int NOT NULL,
    PRIMARY KEY (`fileID`),
    FOREIGN KEY (`articleID`) REFERENCES `ARTICLE`(`articleID`)
);